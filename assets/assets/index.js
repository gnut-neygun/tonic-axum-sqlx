var et=Object.defineProperty;var tt=(t,e,n)=>e in t?et(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var T=(t,e,n)=>(tt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function v(t,e){if(!t)throw new Error(e)}const nt=34028234663852886e22,rt=-34028234663852886e22,it=4294967295,st=2147483647,at=-2147483648;function re(t){if(typeof t!="number")throw new Error("invalid int 32: "+typeof t);if(!Number.isInteger(t)||t>st||t<at)throw new Error("invalid int 32: "+t)}function le(t){if(typeof t!="number")throw new Error("invalid uint 32: "+typeof t);if(!Number.isInteger(t)||t>it||t<0)throw new Error("invalid uint 32: "+t)}function Ve(t){if(typeof t!="number")throw new Error("invalid float 32: "+typeof t);if(Number.isFinite(t)&&(t>nt||t<rt))throw new Error("invalid float 32: "+t)}const Le=Symbol("@bufbuild/protobuf/enum-type");function ot(t){const e=t[Le];return v(e,"missing enum type on enum object"),e}function Pe(t,e,n,i){t[Le]=je(e,n.map(r=>({no:r.no,name:r.name,localName:t[r.no]})))}function je(t,e,n){const i=Object.create(null),r=Object.create(null),s=[];for(const a of e){const o=Me(a);s.push(o),i[a.name]=o,r[a.no]=o}return{typeName:t,values:s,findName(a){return i[a]},findNumber(a){return r[a]}}}function ct(t,e,n){const i={};for(const r of e){const s=Me(r);i[s.localName]=s.no,i[s.no]=s.localName}return Pe(i,t,e),i}function Me(t){return"localName"in t?t:Object.assign(Object.assign({},t),{localName:t.name})}class B{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){const i=this.getType(),r=i.runtime.bin,s=r.makeReadOptions(n);return r.readMessage(this,s.readerFactory(e),e.byteLength,s),this}fromJson(e,n){const i=this.getType(),r=i.runtime.json,s=r.makeReadOptions(n);return r.readMessage(i,e,s,this),this}fromJsonString(e,n){let i;try{i=JSON.parse(e)}catch(r){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${r instanceof Error?r.message:String(r)}`)}return this.fromJson(i,n)}toBinary(e){const n=this.getType(),i=n.runtime.bin,r=i.makeWriteOptions(e),s=r.writerFactory();return i.writeMessage(this,s,r),s.finish()}toJson(e){const n=this.getType(),i=n.runtime.json,r=i.makeWriteOptions(e);return i.writeMessage(this,r)}toJsonString(e){var n;const i=this.toJson(e);return JSON.stringify(i,null,(n=e==null?void 0:e.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function ut(t,e,n,i){var r;const s=(r=i==null?void 0:i.localName)!==null&&r!==void 0?r:e.substring(e.lastIndexOf(".")+1),a={[s]:function(o){t.util.initFields(this),t.util.initPartial(o,this)}}[s];return Object.setPrototypeOf(a.prototype,new B),Object.assign(a,{runtime:t,typeName:e,fields:t.util.newFieldList(n),fromBinary(o,c){return new a().fromBinary(o,c)},fromJson(o,c){return new a().fromJson(o,c)},fromJsonString(o,c){return new a().fromJsonString(o,c)},equals(o,c){return t.util.equals(a,o,c)}}),a}function lt(t,e,n,i){return{syntax:t,json:e,bin:n,util:i,makeMessageType(r,s,a){return ut(this,r,s,a)},makeEnum:ct,makeEnumType:je,getEnumType:ot}}var l;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(l||(l={}));function ft(){let t=0,e=0;for(let i=0;i<28;i+=7){let r=this.buf[this.pos++];if(t|=(r&127)<<i,!(r&128))return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,!(n&128))return this.assertBounds(),[t,e];for(let i=3;i<=31;i+=7){let r=this.buf[this.pos++];if(e|=(r&127)<<i,!(r&128))return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function oe(t,e,n){for(let s=0;s<28;s=s+7){const a=t>>>s,o=!(!(a>>>7)&&e==0),c=(o?a|128:a)&255;if(n.push(c),!o)return}const i=t>>>28&15|(e&7)<<4,r=!!(e>>3);if(n.push((r?i|128:i)&255),!!r){for(let s=3;s<31;s=s+7){const a=e>>>s,o=!!(a>>>7),c=(o?a|128:a)&255;if(n.push(c),!o)return}n.push(e>>>31&1)}}const ie=4294967296;function be(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let i=0,r=0;function s(a,o){const c=Number(t.slice(a,o));r*=n,i=i*n+c,i>=ie&&(r=r+(i/ie|0),i=i%ie)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),e?Xe(i,r):me(i,r)}function dt(t,e){let n=me(t,e);const i=n.hi&2147483648;i&&(n=Xe(n.lo,n.hi));const r=Re(n.lo,n.hi);return i?"-"+r:r}function Re(t,e){if({lo:t,hi:e}=ht(t,e),e<=2097151)return String(ie*e+t);const n=t&16777215,i=(t>>>24|e<<8)&16777215,r=e>>16&65535;let s=n+i*6777216+r*6710656,a=i+r*8147497,o=r*2;const c=1e7;return s>=c&&(a+=Math.floor(s/c),s%=c),a>=c&&(o+=Math.floor(a/c),a%=c),o.toString()+pe(a)+pe(s)}function ht(t,e){return{lo:t>>>0,hi:e>>>0}}function me(t,e){return{lo:t|0,hi:e|0}}function Xe(t,e){return e=~e,t?t=~t+1:e+=1,me(t,e)}const pe=t=>{const e=String(t);return"0000000".slice(e.length)+e};function we(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function mt(){let t=this.buf[this.pos++],e=t&127;if(!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,!(t&128))return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;t&128&&n<10;n++)t=this.buf[this.pos++];if(t&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}function gt(){const t=new DataView(new ArrayBuffer(8));if(globalThis.BigInt!==void 0&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||{}.BUF_BIGINT_DISABLE!=="1")){const r=BigInt("-9223372036854775808"),s=BigInt("9223372036854775807"),a=BigInt("0"),o=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(c){const u=typeof c=="bigint"?c:BigInt(c);if(u>s||u<r)throw new Error(`int64 invalid: ${c}`);return u},uParse(c){const u=typeof c=="bigint"?c:BigInt(c);if(u>o||u<a)throw new Error(`uint64 invalid: ${c}`);return u},enc(c){return t.setBigInt64(0,this.parse(c),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(c){return t.setBigInt64(0,this.uParse(c),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(c,u){return t.setInt32(0,c,!0),t.setInt32(4,u,!0),t.getBigInt64(0,!0)},uDec(c,u){return t.setInt32(0,c,!0),t.setInt32(4,u,!0),t.getBigUint64(0,!0)}}}const n=r=>v(/^-?[0-9]+$/.test(r),`int64 invalid: ${r}`),i=r=>v(/^[0-9]+$/.test(r),`uint64 invalid: ${r}`);return{zero:"0",supported:!1,parse(r){return typeof r!="string"&&(r=r.toString()),n(r),r},uParse(r){return typeof r!="string"&&(r=r.toString()),i(r),r},enc(r){return typeof r!="string"&&(r=r.toString()),n(r),be(r)},uEnc(r){return typeof r!="string"&&(r=r.toString()),i(r),be(r)},dec(r,s){return dt(r,s)},uDec(r,s){return Re(r,s)}}}const I=gt();var N;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(N||(N={}));class yt{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let r=0;r<this.chunks.length;r++)e+=this.chunks[r].length;let n=new Uint8Array(e),i=0;for(let r=0;r<this.chunks.length;r++)n.set(this.chunks[r],i),i+=this.chunks[r].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(le(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return re(e),we(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){Ve(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){le(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){re(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return re(e),e=(e<<1^e>>31)>>>0,we(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),r=I.enc(e);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),r=I.uEnc(e);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}int64(e){let n=I.enc(e);return oe(n.lo,n.hi,this.buf),this}sint64(e){let n=I.enc(e),i=n.hi>>31,r=n.lo<<1^i,s=(n.hi<<1|n.lo>>>31)^i;return oe(r,s,this.buf),this}uint64(e){let n=I.uEnc(e);return oe(n.lo,n.hi,this.buf),this}}class bt{constructor(e,n){this.varint64=ft,this.uint32=mt,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n??new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,i=e&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(e){let n=this.pos;switch(e){case N.Varint:for(;this.buf[this.pos++]&128;);break;case N.Bit64:this.pos+=4;case N.Bit32:this.pos+=4;break;case N.LengthDelimited:let i=this.uint32();this.pos+=i;break;case N.StartGroup:let r;for(;(r=this.tag()[1])!==N.EndGroup;)this.skip(r);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return I.dec(...this.varint64())}uint64(){return I.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),i=-(e&1);return e=(e>>>1|(n&1)<<31)^i,n=n>>>1^i,I.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return I.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return I.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}function fe(t,e){return e instanceof B||!t.fieldWrapper?e:t.fieldWrapper.wrapField(e)}l.DOUBLE,l.FLOAT,l.INT64,l.UINT64,l.INT32,l.UINT32,l.BOOL,l.STRING,l.BYTES;function V(t,e,n){if(e===n)return!0;if(t==l.BYTES){if(!(e instanceof Uint8Array)||!(n instanceof Uint8Array)||e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==n[i])return!1;return!0}switch(t){case l.UINT64:case l.FIXED64:case l.INT64:case l.SFIXED64:case l.SINT64:return e==n}return!1}function de(t){switch(t){case l.BOOL:return!1;case l.UINT64:case l.FIXED64:case l.INT64:case l.SFIXED64:case l.SINT64:return I.zero;case l.DOUBLE:case l.FLOAT:return 0;case l.BYTES:return new Uint8Array(0);case l.STRING:return"";default:return 0}}function ge(t,e){const n=e===void 0;let i=N.Varint,r=e===0;switch(t){case l.STRING:r=n||!e.length,i=N.LengthDelimited;break;case l.BOOL:r=e===!1;break;case l.DOUBLE:i=N.Bit64;break;case l.FLOAT:i=N.Bit32;break;case l.INT64:r=n||e==0;break;case l.UINT64:r=n||e==0;break;case l.FIXED64:r=n||e==0,i=N.Bit64;break;case l.BYTES:r=n||!e.byteLength,i=N.LengthDelimited;break;case l.FIXED32:i=N.Bit32;break;case l.SFIXED32:i=N.Bit32;break;case l.SFIXED64:r=n||e==0,i=N.Bit64;break;case l.SINT64:r=n||e==0;break}const s=l[t].toLowerCase();return[i,s,n||r]}const X=Symbol("@bufbuild/protobuf/unknown-fields"),ke={readUnknownFields:!0,readerFactory:t=>new bt(t)},Ne={writeUnknownFields:!0,writerFactory:()=>new yt};function pt(t){return t?Object.assign(Object.assign({},ke),t):ke}function wt(t){return t?Object.assign(Object.assign({},Ne),t):Ne}function kt(){return{makeReadOptions:pt,makeWriteOptions:wt,listUnknownFields(t){var e;return(e=t[X])!==null&&e!==void 0?e:[]},discardUnknownFields(t){delete t[X]},writeUnknownFields(t,e){const i=t[X];if(i)for(const r of i)e.tag(r.no,r.wireType).raw(r.data)},onUnknownField(t,e,n,i){const r=t;Array.isArray(r[X])||(r[X]=[]),r[X].push({no:e,wireType:n,data:i})},readMessage(t,e,n,i){const r=t.getType(),s=n===void 0?e.len:e.pos+n;for(;e.pos<s;){const[a,o]=e.tag(),c=r.fields.find(a);if(!c){const f=e.skip(o);i.readUnknownFields&&this.onUnknownField(t,a,o,f);continue}let u=t,h=c.repeated,m=c.localName;switch(c.oneof&&(u=u[c.oneof.localName],u.case!=m&&delete u.value,u.case=m,m="value"),c.kind){case"scalar":case"enum":const f=c.kind=="enum"?l.INT32:c.T;if(h){let b=u[m];if(o==N.LengthDelimited&&f!=l.STRING&&f!=l.BYTES){let w=e.uint32()+e.pos;for(;e.pos<w;)b.push(C(e,f))}else b.push(C(e,f))}else u[m]=C(e,f);break;case"message":const d=c.T;h?u[m].push(d.fromBinary(e.bytes(),i)):u[m]instanceof B?u[m].fromBinary(e.bytes(),i):(u[m]=d.fromBinary(e.bytes(),i),d.fieldWrapper&&!c.oneof&&!c.repeated&&(u[m]=d.fieldWrapper.unwrapField(u[m])));break;case"map":let[g,y]=Nt(c,e,i);u[m][g]=y;break}}}}}function Nt(t,e,n){const i=e.uint32(),r=e.pos+i;let s,a;for(;e.pos<r;){let[o]=e.tag();switch(o){case 1:s=C(e,t.K);break;case 2:switch(t.V.kind){case"scalar":a=C(e,t.V.T);break;case"enum":a=e.int32();break;case"message":a=t.V.T.fromBinary(e.bytes(),n);break}break}}if(s===void 0){let o=de(t.K);s=t.K==l.BOOL?o.toString():o}if(typeof s!="string"&&typeof s!="number"&&(s=s.toString()),a===void 0)switch(t.V.kind){case"scalar":a=de(t.V.T);break;case"enum":a=0;break;case"message":a=new t.V.T;break}return[s,a]}function C(t,e){let[,n]=ge(e);return t[n]()}function It(t,e,n,i,r){t.tag(n.no,N.LengthDelimited),t.fork();let s=i;switch(n.K){case l.INT32:case l.FIXED32:case l.UINT32:case l.SFIXED32:case l.SINT32:s=Number.parseInt(i);break;case l.BOOL:v(i=="true"||i=="false"),s=i=="true";break}switch(Z(t,n.K,1,s,!0),n.V.kind){case"scalar":Z(t,n.V.T,2,r,!0);break;case"enum":Z(t,l.INT32,2,r,!0);break;case"message":he(t,e,n.V.T,2,r);break}t.join()}function he(t,e,n,i,r){if(r!==void 0){const s=fe(n,r);t.tag(i,N.LengthDelimited).bytes(s.toBinary(e))}}function Z(t,e,n,i,r){let[s,a,o]=ge(e,i);(!o||r)&&t.tag(n,s)[a](i)}function Tt(t,e,n,i){if(!i.length)return;t.tag(n,N.LengthDelimited).fork();let[,r]=ge(e);for(let s=0;s<i.length;s++)t[r](i[s]);t.join()}function vt(){return Object.assign(Object.assign({},kt()),{writeMessage(t,e,n){const i=t.getType();for(const r of i.fields.byNumber()){let s,a=r.repeated,o=r.localName;if(r.oneof){const c=t[r.oneof.localName];if(c.case!==o)continue;s=c.value}else s=t[o];switch(r.kind){case"scalar":case"enum":let c=r.kind=="enum"?l.INT32:r.T;if(a)if(r.packed)Tt(e,c,r.no,s);else for(const u of s)Z(e,c,r.no,u,!0);else s!==void 0&&Z(e,c,r.no,s,!!r.oneof||r.opt);break;case"message":if(a)for(const u of s)he(e,n,r.T,r.no,u);else he(e,n,r.T,r.no,s);break;case"map":for(const[u,h]of Object.entries(s))It(e,n,r,u,h);break}}return n.writeUnknownFields&&this.writeUnknownFields(t,e),e}})}let D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ae=[];for(let t=0;t<D.length;t++)ae[D[t].charCodeAt(0)]=t;ae["-".charCodeAt(0)]=D.indexOf("+");ae["_".charCodeAt(0)]=D.indexOf("/");const ye={dec(t){let e=t.length*3/4;t[t.length-2]=="="?e-=2:t[t.length-1]=="="&&(e-=1);let n=new Uint8Array(e),i=0,r=0,s,a=0;for(let o=0;o<t.length;o++){if(s=ae[t.charCodeAt(o)],s===void 0)switch(t[o]){case"=":r=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(r){case 0:a=s,r=1;break;case 1:n[i++]=a<<2|(s&48)>>4,a=s,r=2;break;case 2:n[i++]=(a&15)<<4|(s&60)>>2,a=s,r=3;break;case 3:n[i++]=(a&3)<<6|s,r=0;break}}if(r==1)throw Error("invalid base64 string.");return n.subarray(0,i)},enc(t){let e="",n=0,i,r=0;for(let s=0;s<t.length;s++)switch(i=t[s],n){case 0:e+=D[i>>2],r=(i&3)<<4,n=1;break;case 1:e+=D[r|i>>4],r=(i&15)<<2,n=2;break;case 2:e+=D[r|i>>6],e+=D[i&63],n=0;break}return n&&(e+=D[r],e+="=",n==1&&(e+="=")),e}},Ie={ignoreUnknownFields:!1},Te={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function St(t){return t?Object.assign(Object.assign({},Ie),t):Ie}function Ot(t){return t?Object.assign(Object.assign({},Te),t):Te}function Ft(t){const e=t(Et,ve);return{makeReadOptions:St,makeWriteOptions:Ot,readMessage(n,i,r,s){if(i==null||Array.isArray(i)||typeof i!="object")throw new Error(`cannot decode message ${n.typeName} from JSON: ${this.debug(i)}`);s=s??new n;const a={};for(const[o,c]of Object.entries(i)){const u=n.fields.findJsonName(o);if(!u){if(!r.ignoreUnknownFields)throw new Error(`cannot decode message ${n.typeName} from JSON: key "${o}" is unknown`);continue}let h=u.localName,m=s;if(u.oneof){if(c===null&&u.kind=="scalar")continue;const f=a[u.oneof.localName];if(f)throw new Error(`cannot decode message ${n.typeName} from JSON: multiple keys for oneof "${u.oneof.name}" present: "${f}", "${o}"`);a[u.oneof.localName]=o,m=m[u.oneof.localName]={case:h},h="value"}if(u.repeated){if(c===null)continue;if(!Array.isArray(c))throw new Error(`cannot decode field ${n.typeName}.${u.name} from JSON: ${this.debug(c)}`);const f=m[h];for(const d of c){if(d===null)throw new Error(`cannot decode field ${n.typeName}.${u.name} from JSON: ${this.debug(d)}`);let g;switch(u.kind){case"message":g=u.T.fromJson(d,r);break;case"enum":if(g=ce(u.T,d,r.ignoreUnknownFields),g===void 0)continue;break;case"scalar":try{g=K(u.T,d)}catch(y){let b=`cannot decode field ${n.typeName}.${u.name} from JSON: ${this.debug(d)}`;throw y instanceof Error&&y.message.length>0&&(b+=`: ${y.message}`),new Error(b)}break}f.push(g)}}else if(u.kind=="map"){if(c===null)continue;if(Array.isArray(c)||typeof c!="object")throw new Error(`cannot decode field ${n.typeName}.${u.name} from JSON: ${this.debug(c)}`);const f=m[h];for(const[d,g]of Object.entries(c)){if(g===null)throw new Error(`cannot decode field ${n.typeName}.${u.name} from JSON: map value null`);let y;switch(u.V.kind){case"message":y=u.V.T.fromJson(g,r);break;case"enum":if(y=ce(u.V.T,g,r.ignoreUnknownFields),y===void 0)continue;break;case"scalar":try{y=K(u.V.T,g)}catch(b){let w=`cannot decode map value for field ${n.typeName}.${u.name} from JSON: ${this.debug(c)}`;throw b instanceof Error&&b.message.length>0&&(w+=`: ${b.message}`),new Error(w)}break}try{f[K(u.K,u.K==l.BOOL?d=="true"?!0:d=="false"?!1:d:d).toString()]=y}catch(b){let w=`cannot decode map key for field ${n.typeName}.${u.name} from JSON: ${this.debug(c)}`;throw b instanceof Error&&b.message.length>0&&(w+=`: ${b.message}`),new Error(w)}}}else switch(u.kind){case"message":const f=u.T;if(c===null&&f.typeName!="google.protobuf.Value"){if(u.oneof)throw new Error(`cannot decode field ${n.typeName}.${u.name} from JSON: null is invalid for oneof field "${o}"`);continue}m[h]instanceof B?m[h].fromJson(c,r):(m[h]=f.fromJson(c,r),f.fieldWrapper&&!u.oneof&&(m[h]=f.fieldWrapper.unwrapField(m[h])));break;case"enum":const d=ce(u.T,c,r.ignoreUnknownFields);d!==void 0&&(m[h]=d);break;case"scalar":try{m[h]=K(u.T,c)}catch(g){let y=`cannot decode field ${n.typeName}.${u.name} from JSON: ${this.debug(c)}`;throw g instanceof Error&&g.message.length>0&&(y+=`: ${g.message}`),new Error(y)}break}}return s},writeMessage(n,i){const r=n.getType(),s={};let a;try{for(const o of r.fields.byMember()){let c;if(o.kind=="oneof"){const u=n[o.localName];if(u.value===void 0)continue;if(a=o.findField(u.case),!a)throw"oneof case not found: "+u.case;c=e(a,u.value,i)}else a=o,c=e(a,n[a.localName],i);c!==void 0&&(s[i.useProtoFieldName?a.name:a.jsonName]=c)}}catch(o){const c=a?`cannot encode field ${r.typeName}.${a.name} to JSON`:`cannot encode message ${r.typeName} to JSON`,u=o instanceof Error?o.message:String(o);throw new Error(c+(u.length>0?`: ${u}`:""))}return s},readScalar:K,writeScalar:ve,debug:Ge}}function Ge(t){if(t===null)return"null";switch(typeof t){case"object":return Array.isArray(t)?"array":"object";case"string":return t.length>100?"string":`"${t.split('"').join('\\"')}"`;default:return t.toString()}}function K(t,e){switch(t){case l.DOUBLE:case l.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;const n=Number(e);if(Number.isNaN(n)||!Number.isFinite(n))break;return t==l.FLOAT&&Ve(n),n;case l.INT32:case l.FIXED32:case l.SFIXED32:case l.SINT32:case l.UINT32:if(e===null)return 0;let i;if(typeof e=="number"?i=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(i=Number(e)),i===void 0)break;return t==l.UINT32?le(i):re(i),i;case l.INT64:case l.SFIXED64:case l.SINT64:if(e===null)return I.zero;if(typeof e!="number"&&typeof e!="string")break;return I.parse(e);case l.FIXED64:case l.UINT64:if(e===null)return I.zero;if(typeof e!="number"&&typeof e!="string")break;return I.uParse(e);case l.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case l.STRING:if(e===null)return"";if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case l.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return ye.dec(e)}throw new Error}function ce(t,e,n){if(e===null)return 0;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const i=t.findName(e);if(i||n)return i==null?void 0:i.no;break}throw new Error(`cannot decode enum ${t.typeName} from JSON: ${Ge(e)}`)}function Et(t,e,n,i){var r;if(e===void 0)return e;if(e===0&&!n)return;if(i)return e;if(t.typeName=="google.protobuf.NullValue")return null;const s=t.findNumber(e);return(r=s==null?void 0:s.name)!==null&&r!==void 0?r:e}function ve(t,e,n){if(e!==void 0)switch(t){case l.INT32:case l.SFIXED32:case l.SINT32:case l.FIXED32:case l.UINT32:return v(typeof e=="number"),e!=0||n?e:void 0;case l.FLOAT:case l.DOUBLE:return v(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e!==0||n?e:void 0;case l.STRING:return v(typeof e=="string"),e.length>0||n?e:void 0;case l.BOOL:return v(typeof e=="boolean"),e||n?e:void 0;case l.UINT64:case l.FIXED64:case l.INT64:case l.SFIXED64:case l.SINT64:return v(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),n||e!=0?e.toString(10):void 0;case l.BYTES:return v(e instanceof Uint8Array),n||e.byteLength>0?ye.enc(e):void 0}}function Ut(){return Ft((t,e)=>function(i,r,s){if(i.kind=="map"){const a={};switch(i.V.kind){case"scalar":for(const[c,u]of Object.entries(r)){const h=e(i.V.T,u,!0);v(h!==void 0),a[c.toString()]=h}break;case"message":for(const[c,u]of Object.entries(r))a[c.toString()]=u.toJson(s);break;case"enum":const o=i.V.T;for(const[c,u]of Object.entries(r)){v(u===void 0||typeof u=="number");const h=t(o,u,!0,s.enumAsInteger);v(h!==void 0),a[c.toString()]=h}break}return s.emitDefaultValues||Object.keys(a).length>0?a:void 0}else if(i.repeated){const a=[];switch(i.kind){case"scalar":for(let o=0;o<r.length;o++)a.push(e(i.T,r[o],!0));break;case"enum":for(let o=0;o<r.length;o++)a.push(t(i.T,r[o],!0,s.enumAsInteger));break;case"message":for(let o=0;o<r.length;o++)a.push(fe(i.T,r[o]).toJson(s));break}return s.emitDefaultValues||a.length>0?a:void 0}else switch(i.kind){case"scalar":return e(i.T,r,!!i.oneof||i.opt||s.emitDefaultValues);case"enum":return t(i.T,r,!!i.oneof||i.opt||s.emitDefaultValues,s.enumAsInteger);case"message":return r!==void 0?fe(i.T,r).toJson(s):void 0}})}function Bt(){return{setEnumType:Pe,initPartial(t,e){if(t===void 0)return;const n=e.getType();for(const i of n.fields.byMember()){const r=i.localName,s=e,a=t;if(a[r]!==void 0)switch(i.kind){case"oneof":const o=a[r].case;if(o===void 0)continue;const c=i.findField(o);let u=a[r].value;c&&c.kind=="message"&&!(u instanceof c.T)&&(u=new c.T(u)),s[r]={case:o,value:u};break;case"scalar":case"enum":s[r]=a[r];break;case"map":switch(i.V.kind){case"scalar":case"enum":Object.assign(s[r],a[r]);break;case"message":const m=i.V.T;for(const f of Object.keys(a[r])){let d=a[r][f];m.fieldWrapper||(d=new m(d)),s[r][f]=d}break}break;case"message":const h=i.T;if(i.repeated)s[r]=a[r].map(m=>m instanceof h?m:new h(m));else if(a[r]!==void 0){const m=a[r];h.fieldWrapper?s[r]=m:s[r]=m instanceof h?m:new h(m)}break}}},equals(t,e,n){return e===n?!0:!e||!n?!1:t.fields.byMember().every(i=>{const r=e[i.localName],s=n[i.localName];if(i.repeated){if(r.length!==s.length)return!1;switch(i.kind){case"message":return r.every((a,o)=>i.T.equals(a,s[o]));case"scalar":return r.every((a,o)=>V(i.T,a,s[o]));case"enum":return r.every((a,o)=>V(l.INT32,a,s[o]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":return i.T.equals(r,s);case"enum":return V(l.INT32,r,s);case"scalar":return V(i.T,r,s);case"oneof":if(r.case!==s.case)return!1;const a=i.findField(r.case);if(a===void 0)return!0;switch(a.kind){case"message":return a.T.equals(r.value,s.value);case"enum":return V(l.INT32,r.value,s.value);case"scalar":return V(a.T,r.value,s.value)}throw new Error(`oneof cannot contain ${a.kind}`);case"map":const o=Object.keys(r).concat(Object.keys(s));switch(i.V.kind){case"message":const c=i.V.T;return o.every(h=>c.equals(r[h],s[h]));case"enum":return o.every(h=>V(l.INT32,r[h],s[h]));case"scalar":const u=i.V.T;return o.every(h=>V(u,r[h],s[h]))}break}})},clone(t){const e=t.getType(),n=new e,i=n;for(const r of e.fields.byMember()){const s=t[r.localName];let a;if(r.repeated)a=s.map(o=>ne(r,o));else if(r.kind=="map"){a=i[r.localName];for(const[o,c]of Object.entries(s))a[o]=ne(r.V,c)}else if(r.kind=="oneof"){const o=r.findField(s.case);a=o?{case:s.case,value:ne(o,s.value)}:{case:void 0}}else a=ne(r,s);i[r.localName]=a}return n}}}function ne(t,e){if(e===void 0)return e;if(e instanceof B)return e.clone();if(e instanceof Uint8Array){const n=new Uint8Array(e.byteLength);return n.set(e),n}return e}class xt{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){const n={};for(const i of this.list())n[i.jsonName]=n[i.name]=i;this.jsonNames=n}return this.jsonNames[e]}find(e){if(!this.numbers){const n={};for(const i of this.list())n[i.no]=i;this.numbers=n}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let n;for(const i of this.list())i.oneof?i.oneof!==n&&(n=i.oneof,e.push(n)):e.push(i)}return this.members}}function ze(t,e){const n=qe(t);return e?n:Vt($t(n))}function At(t){return ze(t,!1)}const _t=qe;function qe(t){let e=!1;const n=[];for(let i=0;i<t.length;i++){let r=t.charAt(i);switch(r){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(r),e=!1;break;default:e&&(e=!1,r=r.toUpperCase()),n.push(r);break}}return n.join("")}const Dt=new Set(["constructor","toString","toJSON","valueOf"]),Jt=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),We=t=>`${t}$`,$t=t=>Jt.has(t)?We(t):t,Vt=t=>Dt.has(t)?We(t):t;class Lt{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=At(e)}addField(e){v(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[e]}}const k=lt("proto3",Ut(),vt(),Object.assign(Object.assign({},Bt()),{newFieldList(t){return new xt(t,Pt)},initFields(t){for(const e of t.getType().fields.byMember()){if(e.opt)continue;const n=e.localName,i=t;if(e.repeated){i[n]=[];continue}switch(e.kind){case"oneof":i[n]={case:void 0};break;case"enum":i[n]=0;break;case"map":i[n]={};break;case"scalar":i[n]=de(e.T);break}}}}));function Pt(t){var e,n,i;const r=[];let s;for(const a of typeof t=="function"?t():t){const o=a;if(o.localName=ze(a.name,a.oneof!==void 0),o.jsonName=(e=a.jsonName)!==null&&e!==void 0?e:_t(a.name),o.repeated=(n=a.repeated)!==null&&n!==void 0?n:!1,o.packed=(i=a.packed)!==null&&i!==void 0?i:a.kind=="enum"||a.kind=="scalar"&&a.T!=l.BYTES&&a.T!=l.STRING,a.oneof!==void 0){const c=typeof a.oneof=="string"?a.oneof:a.oneof.name;(!s||s.name!=c)&&(s=new Lt(c)),o.oneof=s,s.addField(o)}r.push(o)}return r}var F;(function(t){t[t.Unary=0]="Unary",t[t.ServerStreaming=1]="ServerStreaming",t[t.ClientStreaming=2]="ClientStreaming",t[t.BiDiStreaming=3]="BiDiStreaming"})(F||(F={}));var Se;(function(t){t[t.NoSideEffects=1]="NoSideEffects",t[t.Idempotent=2]="Idempotent"})(Se||(Se={}));class A extends B{constructor(e){super(),this.typeUrl="",this.value=new Uint8Array(0),k.util.initPartial(e,this)}toJson(e){var n;if(this.typeUrl==="")return{};const i=this.typeUrlToName(this.typeUrl),r=(n=e==null?void 0:e.typeRegistry)===null||n===void 0?void 0:n.findMessage(i);if(!r)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let a=r.fromBinary(this.value).toJson(e);return(i.startsWith("google.protobuf.")||a===null||Array.isArray(a)||typeof a!="object")&&(a={value:a}),a["@type"]=this.typeUrl,a}fromJson(e,n){var i;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${e===null?"null":Array.isArray(e)?"array":typeof e}`);if(Object.keys(e).length==0)return this;const r=e["@type"];if(typeof r!="string"||r=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const s=this.typeUrlToName(r),a=(i=n==null?void 0:n.typeRegistry)===null||i===void 0?void 0:i.findMessage(s);if(!a)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${r} is not in the type registry`);let o;if(s.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value"))o=a.fromJson(e.value,n);else{const c=Object.assign({},e);delete c["@type"],o=a.fromJson(c,n)}return this.packFrom(o),this}packFrom(e){this.value=e.toBinary(),this.typeUrl=this.typeNameToUrl(e.getType().typeName)}unpackTo(e){return this.is(e.getType())?(e.fromBinary(this.value),!0):!1}unpack(e){if(this.typeUrl==="")return;const n=e.findMessage(this.typeUrlToName(this.typeUrl));if(n)return n.fromBinary(this.value)}is(e){if(this.typeUrl==="")return!1;const n=this.typeUrlToName(this.typeUrl);let i="";return typeof e=="string"?i=e:i=e.typeName,n===i}typeNameToUrl(e){return`type.googleapis.com/${e}`}typeUrlToName(e){if(!e.length)throw new Error(`invalid type url: ${e}`);const n=e.lastIndexOf("/"),i=n>0?e.substring(n+1):e;if(!i.length)throw new Error(`invalid type url: ${e}`);return i}static pack(e){const n=new A;return n.packFrom(e),n}static fromBinary(e,n){return new A().fromBinary(e,n)}static fromJson(e,n){return new A().fromJson(e,n)}static fromJsonString(e,n){return new A().fromJsonString(e,n)}static equals(e,n){return k.util.equals(A,e,n)}}A.runtime=k;A.typeName="google.protobuf.Any";A.fields=k.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class _ extends B{constructor(e){super(),k.util.initPartial(e,this)}static fromBinary(e,n){return new _().fromBinary(e,n)}static fromJson(e,n){return new _().fromJson(e,n)}static fromJsonString(e,n){return new _().fromJsonString(e,n)}static equals(e,n){return k.util.equals(_,e,n)}}_.runtime=k;_.typeName="google.protobuf.Empty";_.fields=k.util.newFieldList(()=>[]);var p;(function(t){t[t.Canceled=1]="Canceled",t[t.Unknown=2]="Unknown",t[t.InvalidArgument=3]="InvalidArgument",t[t.DeadlineExceeded=4]="DeadlineExceeded",t[t.NotFound=5]="NotFound",t[t.AlreadyExists=6]="AlreadyExists",t[t.PermissionDenied=7]="PermissionDenied",t[t.ResourceExhausted=8]="ResourceExhausted",t[t.FailedPrecondition=9]="FailedPrecondition",t[t.Aborted=10]="Aborted",t[t.OutOfRange=11]="OutOfRange",t[t.Unimplemented=12]="Unimplemented",t[t.Internal=13]="Internal",t[t.Unavailable=14]="Unavailable",t[t.DataLoss=15]="DataLoss",t[t.Unauthenticated=16]="Unauthenticated"})(p||(p={}));function Oe(t,e,n){const i=typeof e=="string"?e:e.typeName,r=typeof n=="string"?n:n.name;return t.toString().replace(/\/?$/,`/${i}/${r}`)}function Fe(t){let e,n=new Uint8Array(0);function i(r){const s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),n=s}return new ReadableStream({start(){e=t.getReader()},async pull(r){let s;for(;;){if(s===void 0&&n.byteLength>=5){let c=0;for(let u=1;u<5;u++)c=(c<<8)+n[u];s={flags:n[0],length:c}}if(s!==void 0&&n.byteLength>=s.length+5)break;const o=await e.read();if(o.done)break;i(o.value)}if(s===void 0){if(n.byteLength==0){r.close();return}r.error(new O("premature end of stream",p.DataLoss));return}const a=n.subarray(5,5+s.length);n=n.subarray(5+s.length),r.enqueue({flags:s.flags,data:a})}})}function Ee(t,e){const n=new Uint8Array(e.length+5);n.set(e,5);const i=new DataView(n.buffer,n.byteOffset,n.byteLength);return i.setUint8(0,t),i.setUint32(1,e.length),n}var jt=globalThis&&globalThis.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(a){return new Promise(function(o,c){a=t[s](a),r(o,c,a.done,a.value)})}}function r(s,a,o,c){Promise.resolve(c).then(function(u){s({value:u,done:o})},a)}},Q=globalThis&&globalThis.__await||function(t){return this instanceof Q?(this.v=t,this):new Q(t)},Mt=globalThis&&globalThis.__asyncGenerator||function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(f){i[f]&&(r[f]=function(d){return new Promise(function(g,y){s.push([f,d,g,y])>1||o(f,d)})})}function o(f,d){try{c(i[f](d))}catch(g){m(s[0][3],g)}}function c(f){f.value instanceof Q?Promise.resolve(f.value.v).then(u,h):m(s[0][2],f)}function u(f){o("next",f)}function h(f){o("throw",f)}function m(f,d){f(d),s.shift(),s.length&&o(s[0][0],s[0][1])}},Rt=globalThis&&globalThis.__asyncDelegator||function(t){var e,n;return e={},i("next"),i("throw",function(r){throw r}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(r,s){e[r]=t[r]?function(a){return(n=!n)?{value:Q(t[r](a)),done:!1}:s?s(a):a}:s}};function Xt(t){return Mt(this,arguments,function*(){yield Q(yield*Rt(jt(t)))})}function Ue(t,e,n,i){function r(o){return o instanceof t.I?o:new t.I(o)}const s=e?Be(t.I,i):xe(t.I,n),a=e?Be(t.O,i):xe(t.O,n);return{normalize:r,parse:a.parse,serialize:s.serialize}}function Be(t,e){return{parse(n){try{return t.fromBinary(n,e)}catch(i){const r=i instanceof Error?i.message:String(i);throw new O(`parse binary: ${r}`,p.InvalidArgument)}},serialize(n){try{return n.toBinary(e)}catch(i){const r=i instanceof Error?i.message:String(i);throw new O(`serialize binary: ${r}`,p.Internal)}}}}function xe(t,e){var n,i;const r=(n=e==null?void 0:e.textEncoder)!==null&&n!==void 0?n:new TextEncoder,s=(i=e==null?void 0:e.textDecoder)!==null&&i!==void 0?i:new TextDecoder;return{parse(a){try{const o=s.decode(a);return t.fromJsonString(o,e)}catch(o){throw Y(o,p.InvalidArgument)}},serialize(a){try{const o=a.toJsonString(e);return r.encode(o)}catch(o){throw Y(o,p.Internal)}}}}function Ae(t){const e=p[t];return typeof e!="string"?t.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}function Gt(t,e,n){try{const i=ye.dec(t);return e?e.fromBinary(i,n):i}catch(i){throw Y(i,p.DataLoss)}}class O extends Error{constructor(e,n=p.Unknown,i,r,s){super(zt(e,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=n,this.metadata=new Headers(i??{}),this.details=r??[],this.cause=s}}function zt(t,e){return t.length?`[${Ae(e)}] ${t}`:`[${Ae(e)}]`}function Y(t,e=p.Unknown){return t instanceof O?t:t instanceof Error?t.name=="AbortError"?new O(t.message,p.Canceled):new O(t.message,e):new O(String(t),e)}function qt(t,e){const n={};for(const[i,r]of Object.entries(t.methods)){const s=e(Object.assign(Object.assign({},r),{localName:i,service:t}));s!=null&&(n[i]=s)}return n}var S=globalThis&&globalThis.__await||function(t){return this instanceof S?(this.v=t,this):new S(t)},ee=globalThis&&globalThis.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(a){return new Promise(function(o,c){a=t[s](a),r(o,c,a.done,a.value)})}}function r(s,a,o,c){Promise.resolve(c).then(function(u){s({value:u,done:o})},a)}},Ye=globalThis&&globalThis.__asyncDelegator||function(t){var e,n;return e={},i("next"),i("throw",function(r){throw r}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(r,s){e[r]=t[r]?function(a){return(n=!n)?{value:S(t[r](a)),done:!1}:s?s(a):a}:s}},se=globalThis&&globalThis.__asyncGenerator||function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(f){i[f]&&(r[f]=function(d){return new Promise(function(g,y){s.push([f,d,g,y])>1||o(f,d)})})}function o(f,d){try{c(i[f](d))}catch(g){m(s[0][3],g)}}function c(f){f.value instanceof S?Promise.resolve(f.value.v).then(u,h):m(s[0][2],f)}function u(f){o("next",f)}function h(f){o("throw",f)}function m(f,d){f(d),s.shift(),s.length&&o(s[0][0],s[0][1])}};function Wt(t,e){return qt(t,n=>{switch(n.kind){case F.Unary:return Yt(e,t,n);case F.ServerStreaming:return Ht(e,t,n);case F.ClientStreaming:return Kt(e,t,n);case F.BiDiStreaming:return Ct(e,t,n);default:return null}})}function Yt(t,e,n){return async function(i,r){var s,a;const o=await t.unary(e,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,i);return(s=r==null?void 0:r.onHeader)===null||s===void 0||s.call(r,o.header),(a=r==null?void 0:r.onTrailer)===null||a===void 0||a.call(r,o.trailer),o.message}}function Ht(t,e,n){return function(i,r){var s,a;return se(this,arguments,function*(){const o=i instanceof n.I?i:new n.I(i),c=yield S(t.stream(e,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,Xt([o])));(s=r==null?void 0:r.onHeader)===null||s===void 0||s.call(r,c.header),yield S(yield*Ye(ee(c.message))),(a=r==null?void 0:r.onTrailer)===null||a===void 0||a.call(r,c.trailer)})}}function Kt(t,e,n){return async function(i,r){var s,a,o,c,u,h;function m(){return se(this,arguments,function*(){var x,E,$,te;try{for(var M=!0,R=ee(i),H;H=yield S(R.next()),x=H.done,!x;){te=H.value,M=!1;try{const P=te;yield yield S(P instanceof n.I?P:new n.I(P))}finally{M=!0}}}catch(P){E={error:P}}finally{try{!M&&!x&&($=R.return)&&(yield S($.call(R)))}finally{if(E)throw E.error}}})}const f=await t.stream(e,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,m());(u=r==null?void 0:r.onHeader)===null||u===void 0||u.call(r,f.header);let d;try{for(var g=!0,y=ee(f.message),b;b=await y.next(),s=b.done,!s;){c=b.value,g=!1;try{d=c}finally{g=!0}}}catch(w){a={error:w}}finally{try{!g&&!s&&(o=y.return)&&await o.call(y)}finally{if(a)throw a.error}}if(!d)throw new O("protocol error: missing response message",p.Internal);return(h=r==null?void 0:r.onTrailer)===null||h===void 0||h.call(r,f.trailer),d}}function Ct(t,e,n){return function(i,r){var s,a;return se(this,arguments,function*(){function o(){return se(this,arguments,function*(){var h,m,f,d;try{for(var g=!0,y=ee(i),b;b=yield S(y.next()),h=b.done,!h;){d=b.value,g=!1;try{const w=d;yield yield S(w instanceof n.I?w:new n.I(w))}finally{g=!0}}}catch(w){m={error:w}}finally{try{!g&&!h&&(f=y.return)&&(yield S(f.call(y)))}finally{if(m)throw m.error}}})}const c=yield S(t.stream(e,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,o()));(s=r==null?void 0:r.onHeader)===null||s===void 0||s.call(r,c.header),yield S(yield*Ye(ee(c.message))),(a=r==null?void 0:r.onTrailer)===null||a===void 0||a.call(r,c.trailer)})}}const He="Content-Type",Zt="Grpc-Timeout",Ke="Grpc-Status",Ce="Grpc-Message",Qt="Grpc-Status-Details-Bin";class J extends B{constructor(e){super(),this.code=0,this.message="",this.details=[],k.util.initPartial(e,this)}static fromBinary(e,n){return new J().fromBinary(e,n)}static fromJson(e,n){return new J().fromJson(e,n)}static fromJsonString(e,n){return new J().fromJsonString(e,n)}static equals(e,n){return k.util.equals(J,e,n)}}J.runtime=k;J.typeName="google.rpc.Status";J.fields=k.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:A,repeated:!0}]);const en="0";function Ze(t){var e;const n=t.get(Qt);if(n!=null){const r=Gt(n,J);if(r.code==0)return;const s=new O(r.message,r.code,t);return s.details=r.details.map(a=>({type:a.typeUrl.substring(a.typeUrl.lastIndexOf("/")+1),value:a.value})),s}const i=t.get(Ke);if(i!=null){if(i===en)return;const r=parseInt(i,10);return r in p?new O(decodeURIComponent((e=t.get(Ce))!==null&&e!==void 0?e:""),r,t):new O(`invalid grpc-status: ${i}`,p.Internal)}}function tn(t){switch(t){case 200:return null;case 400:return p.Internal;case 401:return p.Unauthenticated;case 403:return p.PermissionDenied;case 404:return p.Unimplemented;case 429:return p.Unavailable;case 502:return p.Unavailable;case 503:return p.Unavailable;case 504:return p.Unavailable;default:return p.Unknown}}function _e(t){const e=Ze(t);if(e)throw e}const ue=128;function De(t){const e=new Headers,n=new TextDecoder().decode(t).split(`\r
`);for(const i of n){if(i==="")continue;const r=i.indexOf(":");if(r>0){const s=i.substring(0,r).trim(),a=i.substring(r+1).trim();e.append(s,a)}}return e}const nn="X-User-Agent",rn="X-Grpc-Web",sn=/^application\/grpc-web(-text)?(?:\+(?:(json)(?:; ?charset=utf-?8)?|proto))?$/i,an="application/grpc-web+proto",on="application/grpc-web+json";function cn(t){const e=t==null?void 0:t.match(sn);if(!e)return;const n=!!e[1],i=!e[2];return{text:n,binary:i}}function Qe(t,e){return e.concat().reverse().reduce((n,i)=>i(n),t)}function un(t,e,n){return n&&(e=Qe(e,n)),e(t)}function ln(t,e,n){return n&&(e=Qe(e,n)),e(t)}function fn(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Je(t,e,n){const i=new Headers(n??{});return i.set(He,t?an:on),i.set(rn,"1"),i.set(nn,"@bufbuild/connect-web"),e!==void 0&&i.set(Zt,`${e}m`),i}function $e(t,e,n){var i;const r=tn(e);if(r!=null)throw new O(decodeURIComponent((i=n.get(Ce))!==null&&i!==void 0?i:`HTTP ${e}`),r);const s=n.get(He),a=cn(s);if(!a||a.binary!=t)throw new O(`unexpected response content type ${s??"?"}`,p.Internal);if(a.text)throw new O("grpc-web-text is not supported",p.InvalidArgument);const o=Ze(n);if(o)throw o;return{foundStatus:n.has(Ke)}}var j=globalThis&&globalThis.__await||function(t){return this instanceof j?(this.v=t,this):new j(t)},dn=globalThis&&globalThis.__asyncGenerator||function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(f){i[f]&&(r[f]=function(d){return new Promise(function(g,y){s.push([f,d,g,y])>1||o(f,d)})})}function o(f,d){try{c(i[f](d))}catch(g){m(s[0][3],g)}}function c(f){f.value instanceof j?Promise.resolve(f.value.v).then(u,h):m(s[0][2],f)}function u(f){o("next",f)}function h(f){o("throw",f)}function m(f,d){f(d),s.shift(),s.length&&o(s[0][0],s[0][1])}};function hn(t){var e;fn();const n=(e=t.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(i,r,s,a,o,c){var u;const{normalize:h,serialize:m,parse:f}=Ue(r,n,t.jsonOptions,t.binaryOptions);try{return await un({stream:!1,service:i,method:r,url:Oe(t.baseUrl,i,r),init:{method:"POST",credentials:(u=t.credentials)!==null&&u!==void 0?u:"same-origin",redirect:"error",mode:"cors"},header:Je(n,a,o),message:h(c),signal:s??new AbortController().signal},async d=>{const g=await fetch(d.url,Object.assign(Object.assign({},d.init),{headers:d.header,signal:d.signal,body:Ee(0,m(d.message))}));if($e(n,g.status,g.headers),!g.body)throw"missing response body";const y=Fe(g.body).getReader();let b,w;for(;;){const x=await y.read();if(x.done)break;const{flags:E,data:$}=x.value;if(E===ue){if(b!==void 0)throw"extra trailer";b=De($);continue}if(w!==void 0)throw"extra message";w=f($)}if(b===void 0)throw"missing trailer";if(_e(b),w===void 0)throw"missing message";return{stream:!1,header:g.headers,message:w,trailer:b}},t.interceptors)}catch(d){throw Y(d,p.Internal)}},async stream(i,r,s,a,o,c){var u;const{serialize:h,parse:m}=Ue(r,n,t.jsonOptions,t.binaryOptions);function f(g,y,b){return dn(this,arguments,function*(){const x=Fe(g).getReader();try{if(y){if(!(yield j(x.read())).done)throw"extra data for trailers-only";return yield j(void 0)}let E=!1;for(;;){const $=yield j(x.read());if($.done)break;const{flags:te,data:M}=$.value;if((te&ue)===ue){if(E)throw"extra trailer";E=!0;const R=De(M);_e(R),R.forEach((H,P)=>b.set(P,H));continue}if(E)throw"extra message";yield yield j(m(M))}if(!E)throw"missing trailer"}catch(E){throw Y(E)}})}async function d(g){if(r.kind!=F.ServerStreaming)throw"The fetch API does not support streaming request bodies";const y=await g[Symbol.asyncIterator]().next();if(y.done==!0)throw"missing request message";return Ee(0,h(y.value))}return ln({stream:!0,service:i,method:r,url:Oe(t.baseUrl,i,r),init:{method:"POST",credentials:(u=t.credentials)!==null&&u!==void 0?u:"same-origin",redirect:"error",mode:"cors"},signal:s??new AbortController().signal,header:Je(n,a,o),message:c},async g=>{const y=await fetch(g.url,Object.assign(Object.assign({},g.init),{headers:g.header,signal:g.signal,body:await d(g.message)})),{foundStatus:b}=$e(n,y.status,y.headers);if(!y.body)throw"missing response body";const w=new Headers;return Object.assign(Object.assign({},g),{header:y.headers,trailer:w,message:f(y.body,b,w)})},t.interceptors).catch(g=>Promise.reject(Y(g)))}}}const z=class extends B{constructor(n){super();T(this,"id",I.zero);T(this,"name","");T(this,"properties",{});k.util.initPartial(n,this)}static fromBinary(n,i){return new z().fromBinary(n,i)}static fromJson(n,i){return new z().fromJson(n,i)}static fromJsonString(n,i){return new z().fromJsonString(n,i)}static equals(n,i){return k.util.equals(z,n,i)}};let U=z;T(U,"runtime",k),T(U,"typeName","object_api.Object"),T(U,"fields",k.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"properties",kind:"map",K:9,V:{kind:"scalar",T:9}}]));const q=class extends B{constructor(n){super();T(this,"objects",[]);k.util.initPartial(n,this)}static fromBinary(n,i){return new q().fromBinary(n,i)}static fromJson(n,i){return new q().fromJson(n,i)}static fromJsonString(n,i){return new q().fromJsonString(n,i)}static equals(n,i){return k.util.equals(q,n,i)}};let G=q;T(G,"runtime",k),T(G,"typeName","object_api.ObjectList"),T(G,"fields",k.util.newFieldList(()=>[{no:1,name:"objects",kind:"message",T:U,repeated:!0}]));const W=class extends B{constructor(n){super();T(this,"id",I.zero);k.util.initPartial(n,this)}static fromBinary(n,i){return new W().fromBinary(n,i)}static fromJson(n,i){return new W().fromJson(n,i)}static fromJsonString(n,i){return new W().fromJsonString(n,i)}static equals(n,i){return k.util.equals(W,n,i)}};let L=W;T(L,"runtime",k),T(L,"typeName","object_api.ObjectId"),T(L,"fields",k.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:4}]));const mn={typeName:"object_api.ObjectApi",methods:{list_objects:{name:"list_objects",I:_,O:G,kind:F.Unary},get_object:{name:"get_object",I:L,O:U,kind:F.Unary},create_object:{name:"create_object",I:U,O:U,kind:F.Unary},update_object:{name:"update_object",I:U,O:U,kind:F.Unary},delete_object:{name:"delete_object",I:L,O:_,kind:F.Unary},subscribe_object:{name:"subscribe_object",I:L,O:U,kind:F.ServerStreaming}}},gn=hn({baseUrl:"http://localhost:3000"}),yn=Wt(mn,gn);async function bn(){const t=await yn.list_objects({});return console.log(t),t}bn().then(t=>{document.querySelector("#app").innerHTML=t.objects.map(e=>e.toJsonString()).join("<br/>")});
